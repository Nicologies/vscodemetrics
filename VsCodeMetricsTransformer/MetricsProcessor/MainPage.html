<link rel='stylesheet' type='text/css' href='${teamcityPluginResourcesPath}/DataTables/datatables.min.css' />
<style>
    .group {
        background-color: #d3d3d3;
    }
    .hidden {
        display: none
    }
</style>

<div>
    <p>Click <a href='${currentFolder}/Metrics.zip'>Here</a> to Download the CSV file of the Full Metrics Result.
    </p>
    <div class="${visibilityOfWorstNewMethods}">
        <h1>Top 100 Least Maintainable New Methods</h1>
        Most of these Methods are in:
        <ul>{WorstNewMethodsAreInModules}</ul>
        <table id="vscodemetrics_worst_new_methods" class="display" cellspacing="0" width="100%">
            {TableBodyOfWorstNewMethods}
        </table>
    </div>
    <h1>Top 100 Least Maintainable Methods</h1>
    Most of these Methods are in:
    <ul>{WorstMethodsAreInModules}</ul>
    <table id="vscodemetrics_worstmethods" class="display" cellspacing="0" width="100%">
        {TableBodyOfWorstMethods}
    </table>

    <h1>Top 100 Least Maintainable Classes</h1>
    Most of these Classes are in :
    <ul>{WorstClassesAreInModules}</ul>
    <table id="vscodemetrics_worstclasses" class="display" cellspacing="0" width="100%">
        {TableBodyOfWorstClasses}
    </table>

    <h1>Assemblies</h1>
    <table id="vscodemetrics_modules" class="display" cellspacing="0" width="100%">
        {TableBodyOfModules}
    </table>
</div>

<script src='${teamcityPluginResourcesPath}/DataTables/datatables.min.js'></script>
<script type="text/javascript">
    (function ($) {
        $(function () {
            $("#vscodemetrics_modules").dataTable({
                "order": [],
                "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
                "iDisplayLength": 5
            });
            $("#vscodemetrics_worstclasses").dataTable({
                "order": [],
                "iDisplayLength": 10
            });
            $("#vscodemetrics_worstmethods").dataTable({
                "order": [],
                "iDisplayLength": 25 
            });

            $("#vscodemetrics_worst_new_methods").dataTable({
                "order": [],
                "iDisplayLength": 25
            });
        });
    })(jQuery);
</script>